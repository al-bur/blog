{"componentChunkName":"component---src-templates-blog-post-js","path":"/development/callback/","result":{"data":{"site":{"siteMetadata":{"title":"love steady","author":"albur","siteUrl":"https://al-bur.github.io","comment":{"disqusShortName":"","utterances":"al-bur/"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"89376adc-d308-560d-a817-b906e6553781","excerpt":"여기서, callback이란 콜백 함수를 나타낸다. callback function(콜백 함수)? 자바스크립트 엔진은 코드를 위에서 아래로 실행한다. 실행하는 과정은 평가와 실행 단계로 세분화할 수 있다. 1-1. makeSomething이라는 함수가 실행 컨텍스트에 함수 객체로 저장된다.(실행 컨텍스트에 대해서는 추후에 포스팅하려고한다.) 1-2. doExtraJob이라는 함수가 실행 컨텍스트에 함수 객체로 저장된다.(실행 컨텍스트에 대해서는 추후에 포스팅하려고한다.) makeSomething…","html":"<p>여기서, callback이란 콜백 함수를 나타낸다.</p>\n<h2 id=\"callback-function콜백-함수\" style=\"position:relative;\"><a href=\"#callback-function%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98\" aria-label=\"callback function콜백 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>callback function(콜백 함수)?</h2>\n<p>자바스크립트 엔진은 코드를 위에서 아래로 실행한다. 실행하는 과정은 평가와 실행 단계로 세분화할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">makeSomething</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callbackFunction</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// doSomething</span>\n\n  <span class=\"token function\">callbackFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> something\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 1-1. 자바스크립트 평가 과정에서 처리</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">doExtraJob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'extra job done'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 1-2 자바스크립트 평가 과정에서 처리</span>\n\n<span class=\"token function\">makeSomething</span><span class=\"token punctuation\">(</span>doExtraJob<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 2. 자바스크립트 실행 과정에서 처리</span></code></pre></div>\n<p>1-1. makeSomething이라는 함수가 실행 컨텍스트에 함수 객체로 저장된다.(실행 컨텍스트에 대해서는 추후에 포스팅하려고한다.)</p>\n<p>1-2. doExtraJob이라는 함수가 실행 컨텍스트에 함수 객체로 저장된다.(실행 컨텍스트에 대해서는 추후에 포스팅하려고한다.)</p>\n<ol>\n<li>makeSomething이라는 함수에 doExtraJob을 인자로 전달하여 호출한다.</li>\n</ol>\n<p>여기서 <code class=\"language-text\">doExtraJob</code> 함수가 바로 <code class=\"language-text\">콜백 함수</code>이다. makeSomething 함수에 인자로 전달되자마자 호출되는 것이 아니라 makeSomething이 원하는 시점에 호출(실행) 되는 것이다.</p>\n<h2 id=\"mdn상에서의-정의\" style=\"position:relative;\"><a href=\"#mdn%EC%83%81%EC%97%90%EC%84%9C%EC%9D%98-%EC%A0%95%EC%9D%98\" aria-label=\"mdn상에서의 정의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MDN상에서의 정의</h2>\n<p>MDN 공식문서에서는 어떻게 콜백 함수를 정의하고 있는 지 살펴보자</p>\n<blockquote>\n<p>A callback function is a function passed into another function as an argument, which is then invoked inside the outer function to complete some kind of routine or action.\n<a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Callback_function\">https://developer.mozilla.org/en-US/docs/Glossary/Callback_function</a></p>\n</blockquote>\n<p>즉, 콜백 함수는 다른 함수에 인자로 전달되어지는 함수라고 보면 될 것 같다.</p>\n<h2 id=\"콜백-함수를-사용하면-어떤-장점이-있을까\" style=\"position:relative;\"><a href=\"#%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EC%96%B4%EB%96%A4-%EC%9E%A5%EC%A0%90%EC%9D%B4-%EC%9E%88%EC%9D%84%EA%B9%8C\" aria-label=\"콜백 함수를 사용하면 어떤 장점이 있을까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>콜백 함수를 사용하면 어떤 장점이 있을까?</h2>\n<p>함수를 사용하는 것의 장점은 반복되는 로직을 하나의 함수로 추출하여 해당 함수를 재사용해줌으로써 중복을 줄여줄 수 있고, 잘 정의된 함수명을 통해 내부 코드들의 역할을 잘 표현해줌으로써 유지보수도 편하게 만들어 줄 수 있다.</p>\n<p>콜백 함수도 함수이기 때문에, 함수와 같은 장점을 가진다고 보면된다. 하지만, 조금 다른 것은 다른 함수 내부에서 그 역할을 해준다는 것 뿐</p>\n<h2 id=\"비동기-콜백-함수\" style=\"position:relative;\"><a href=\"#%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98\" aria-label=\"비동기 콜백 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>비동기 콜백 함수</h2>\n<p>콜백 함수는 사용 용도에 따라 두 가지 종류로 나뉠 수 있다. 동기적인 상황에서 사용되는 <code class=\"language-text\">동기 콜백 함수</code> 와 비동기적인 상황에서 사용되는 <code class=\"language-text\">비동기 콜백 함수</code>이다. 사실 이름만 다르게 부르는 것이지 동작은 동일하다. 이것은 마치, 학교에서는 <code class=\"language-text\">반장</code>으로 불리고 집에서는 <code class=\"language-text\">막내</code>라고 불리는 것과 비슷하다고 보면 될 것 같다. 글로만 설명하기에는 헷갈리니, 코드로 살펴보자</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">callbackFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'callbacked'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">syncFunction</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callbackFn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">callbackFn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 동기 콜백 함수</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">syncFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// start end callbacked</span></code></pre></div>\n<p>syncFunction의 내부 코드는 모두 동기적으로 실행된다. <code class=\"language-text\">start end callbacked</code>가 console에 출력이 된다. 여기서는 <code class=\"language-text\">callbackFn</code> 콜백 함수가 동기적으로 동작하는 함수의 인자로 전달되었기 때문에 <code class=\"language-text\">동기 콜백 함수</code>로 불릴 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">asyncFunction</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callbackFn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'start'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callbackFn<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 비동기 콜백 함수</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">asyncFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// start end callbacked</span></code></pre></div>\n<p>asyncFunction의 내부에는 비동기적으로 실행되는 setTimeout 함수가 있다. (비동기는 순서대로 동작하지 않는다라는 의미이다. 자바스크립트는 싱글 스레드 언어이기 때문에 비동기 작업을 활용하여 blocking을 최소화 해준다.) setTimeout의 인자로 <code class=\"language-text\">callbackFn</code>이 전달되었다. 비동기적으로 실행되는 함수에 인자로 전달되는 콜백 함수이니 여기서는 <code class=\"language-text\">비동기 콜백 함수</code>로 불릴 수 있다.</p>\n<h2 id=\"비동기-콜백-지옥hell\" style=\"position:relative;\"><a href=\"#%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%BD%9C%EB%B0%B1-%EC%A7%80%EC%98%A5hell\" aria-label=\"비동기 콜백 지옥hell permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>비동기 콜백 지옥(hell)</h2>\n<p>비동기 콜백 함수는 클라이언트가 서버와 통신할 때 자주 사용된다.</p>\n<p>아래의 코드는 하나의 음식을 만들고 서빙하는 과정을 묘사한 코드이다. 음식을 만들기 위해서는, 재료를 준비하고 요리를 하고 음식에 데코레이션까지 순서대로 진행되야할 것이다. makeFood 함수와 내부 콜백 함수들이 서버와 통신을 해야하는 비동기적으로 실행되야하는 코드들이라고 한다면, 이렇게 비동기 콜백 함수를 사용해서 함수가 호출되는 순서들을 보장해줄 수 있다. 지금은 괜찮아보여도 만약 작업들이 더 있다면 코드는 더 장황해질 것이고 가독성이 많이 떨어지게 될 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">makeFood</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">next</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getIngredient</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ingredient</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">cookFood</span><span class=\"token punctuation\">(</span>ingredient<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">food</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">decorateFood</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">decoratedFood</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>decoratedFood<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">makeFood</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">decoratedFood</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">serve</span><span class=\"token punctuation\">(</span>decoratedFood<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이러한 현상을 보고, <code class=\"language-text\">콜백 지옥(callback hell)</code> 이라고 한다.</p>","frontmatter":{"title":"callback","date":"October 05, 2022"}}},"pageContext":{"slug":"/development/callback/","previous":{"fields":{"slug":"/development/rendering을-차단하는-리소스는-무엇일까/"},"frontmatter":{"title":"rendering을 차단하는 리소스는 무엇일까"}},"next":{"fields":{"slug":"/development/http(hyptertext-transfer-protocol)/"},"frontmatter":{"title":"HTTP(HypterText Transfer Protocol)"}}}}}